import{r as e}from"../assets/index.BiaIGwig.js";function t(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme-mode",e)}function n(){const e=localStorage.getItem("theme-mode");return"light"===e||"dark"===e?e:"dark"}function o(){const o=e.useEffectEvent((e=>{t(e.detail.theme)})),a=e.useEffectEvent((e=>{const n=localStorage.getItem("theme-mode");if(!n||"auto"===n){t(e.matches?"dark":"light")}})),d=e.useEffectEvent((()=>{setTimeout((()=>{t(n())}),50)}));return e.useEffect((()=>{document.documentElement.getAttribute("data-theme")||t(n());const e=e=>{o(e)},m=e=>{a(e)},r=()=>{d()};if(document.addEventListener("themeChanged",e),window.matchMedia){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",m)}return document.addEventListener("astro:page-load",r),()=>{if(document.removeEventListener("themeChanged",e),window.matchMedia){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",m)}document.removeEventListener("astro:page-load",r)}}),[]),null}export{o as default};
